<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xungerrrr&#39;s Site</title>
  
  <subtitle>Every Little Counts.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xungerrrr.github.io/"/>
  <updated>2018-04-10T12:30:22.172Z</updated>
  <id>http://xungerrrr.github.io/</id>
  
  <author>
    <name>Xunyan Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Unity 3D - 牧师与魔鬼 2.0</title>
    <link href="http://xungerrrr.github.io/2018/04/10/Unity-3D-%E7%89%A7%E5%B8%88%E4%B8%8E%E9%AD%94%E9%AC%BC-2-0/"/>
    <id>http://xungerrrr.github.io/2018/04/10/Unity-3D-牧师与魔鬼-2-0/</id>
    <published>2018-04-10T05:41:23.000Z</published>
    <updated>2018-04-10T12:30:22.172Z</updated>
    
    <content type="html"><![CDATA[<h1 id="操作与总结"><a href="#操作与总结" class="headerlink" title="操作与总结"></a>操作与总结</h1><h2 id="参考-Fantasy-Skybox-FREE-构建自己的游戏场景"><a href="#参考-Fantasy-Skybox-FREE-构建自己的游戏场景" class="headerlink" title="参考 Fantasy Skybox FREE 构建自己的游戏场景"></a>参考 Fantasy Skybox FREE 构建自己的游戏场景</h2><p>利用 Skybox 和 Terrain 构建游戏场景。Unity 的 Terrain 有十分方便的地形设计工具，利用它可以轻松绘制自己的地形及素材。地形工具和场景效果如下：</p><img src="/2018/04/10/Unity-3D-牧师与魔鬼-2-0/Terrain.png" title="Terrain"><img src="/2018/04/10/Unity-3D-牧师与魔鬼-2-0/Scene.png" title="Scene"><h2 id="总结游戏对象的使用"><a href="#总结游戏对象的使用" class="headerlink" title="总结游戏对象的使用"></a>总结游戏对象的使用</h2><h3 id="常用游戏对象"><a href="#常用游戏对象" class="headerlink" title="常用游戏对象"></a>常用游戏对象</h3><ul><li>空对象 (Empty)</li><li>摄像机 (Camera)</li><li>3D 物体 (3D Object)</li><li>2D 物体 (2D Object)</li><li>光线 (Light)</li><li>声音 (Audio)</li><li>视频 (Video)</li><li>UI</li></ul><h3 id="游戏对象的使用方法"><a href="#游戏对象的使用方法" class="headerlink" title="游戏对象的使用方法"></a>游戏对象的使用方法</h3><p>游戏对象有不同的创建方法，可以在游戏运行前创建，可以在游戏运行过程中动态创建，还可以使用预设创建对象。创建位置变化不大、数量较少的对象可以采用前两种方法，而创建大量重复的、类似的对象则采用预设方法较好。</p><p>游戏对象有各种各样的组件 (Component)，组件决定了游戏对象在游戏中的表现形式，包括外观和动作。使用组件时，应该仔细查阅文档，了解组件各个属性的功能和用法，再根据游戏的设计，实现游戏对象的各个需求。</p><h1 id="编程实践：牧师与魔鬼-动作分离版"><a href="#编程实践：牧师与魔鬼-动作分离版" class="headerlink" title="编程实践：牧师与魔鬼 动作分离版"></a>编程实践：牧师与魔鬼 动作分离版</h1><p>基础版本：<a href="/2018/04/01/Unity-3D-牧师与魔鬼/" title="牧师与魔鬼基础 MVC 版">牧师与魔鬼基础 MVC 版</a></p><p>在上一个版本中，我实现了该游戏的基本 MVC 架构，但是，场记和控制器负责的功能太多，导致代码耦合性太强。这一版本将游戏对象的基本动作抽离出来，并引入动作管理器来管理动作，更好地实现了模块间的松耦合，提高了代码的复用性。</p><h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><h3 id="实现动作基类"><a href="#实现动作基类" class="headerlink" title="实现动作基类"></a>实现动作基类</h3><p>在动作基类里面，要声明游戏对象的动作的基本属性和方法。在这个游戏中，游戏对象只有直线运动，因此动作基类只需包含一个用于指定对象的 GameObject 属性和一个用于指定运动路径的 Transform 属性。虚函数 Start 和 Update 是实现动作的基本方法，需要由子类重载。动作基类的实现如下：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SSAction</span> : <span class="title">ScriptableObject</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> enable = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> destroy = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> GameObject GameObject &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Transform Transform &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> ISSActionCallback Callback &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">SSAction</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> System.NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> System.NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现直线运动"><a href="#实现直线运动" class="headerlink" title="实现直线运动"></a>实现直线运动</h3><p>定义 SSMoveToAction 类，并继承动作基类，来实现对象的直线运动。具体实现如下：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SSMoveToAction</span> : <span class="title">SSAction</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Vector3 target; <span class="comment">// 移动目标</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> speed; <span class="comment">// 移动速度</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建并返回动作的实例</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SSMoveToAction <span class="title">GetSSMoveToAction</span>(<span class="params">Vector3 target, <span class="keyword">float</span> speed</span>) </span>&#123;</span><br><span class="line">        SSMoveToAction action = ScriptableObject.CreateInstance&lt;SSMoveToAction&gt;();</span><br><span class="line">        action.target = target;</span><br><span class="line">        action.speed = speed;</span><br><span class="line">        <span class="keyword">return</span> action;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在 Update 函数中用 Vector3.MoveTowards 实现直线运动</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.Transform.position = Vector3.MoveTowards(<span class="keyword">this</span>.Transform.position, target, speed * Time.deltaTime);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Transform.position == target) &#123;</span><br><span class="line">            <span class="keyword">this</span>.destroy = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// 完成动作后进行动作回掉</span></span><br><span class="line">            <span class="keyword">this</span>.Callback.SSActionEvent(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现动作序列"><a href="#实现动作序列" class="headerlink" title="实现动作序列"></a>实现动作序列</h3><p>在游戏中，船的动作是简单的直线运动，而游戏角色的运动是由两段直线运动组成的折线运动。通过定义 SSSequenceAction 类，将基本动作(直线运动)组合在一起，可以实现折现运动。在这个类中，用 List<ssaction> 列表记录待执行的动作序列，并依次执行，执行完毕后清空列表，从而完成动作的组合（其中可以自定义循环的次数）。具体实现如下：</ssaction></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">public class SSSequenceAction : SSAction, ISSActionCallback &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;SSAction&gt; sequence; <span class="comment">// 动作队列</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> repeat = <span class="number">-1</span>; <span class="comment">// 循环次数，-1表示无限循环</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> start = <span class="number">0</span>; <span class="comment">// 当前执行的动作</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建并返回动作序列的实例</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SSSequenceAction <span class="title">GetSSSequenceAction</span>(<span class="params"><span class="keyword">int</span> repeat, <span class="keyword">int</span> start, List&lt;SSAction&gt; sequence</span>) </span>&#123;</span><br><span class="line">        SSSequenceAction action = ScriptableObject.CreateInstance&lt;SSSequenceAction&gt;();</span><br><span class="line">        action.repeat = repeat;</span><br><span class="line">        action.sequence = sequence;</span><br><span class="line">        action.start = start;</span><br><span class="line">        <span class="keyword">return</span> action;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (SSAction action <span class="keyword">in</span> sequence) &#123;</span><br><span class="line">            action.GameObject = <span class="keyword">this</span>.GameObject;</span><br><span class="line">            action.Transform = <span class="keyword">this</span>.Transform;</span><br><span class="line">            action.Callback = <span class="keyword">this</span>;</span><br><span class="line">            action.Start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在 Update 中执行当前动作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (sequence.Count == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (start &lt; sequence.Count) &#123;</span><br><span class="line">            sequence[start].Update();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行完毕后销毁动作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnDestroy</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (SSAction action <span class="keyword">in</span> sequence) &#123;</span><br><span class="line">            DestroyObject(action);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新当前执行的动作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SSActionEvent</span>(<span class="params">SSAction source, SSActionEventType events = SSActionEventType.Completed,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> intParam = <span class="number">0</span>, <span class="keyword">string</span> strParam = <span class="literal">null</span>, <span class="keyword">object</span> objectParam = <span class="literal">null</span></span>) </span>&#123;</span><br><span class="line">        source.destroy = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.start++;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.start &gt;= sequence.Count) &#123;</span><br><span class="line">            <span class="keyword">this</span>.start = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (repeat &gt; <span class="number">0</span>) repeat--;</span><br><span class="line">            <span class="keyword">if</span> (repeat == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.destroy = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">this</span>.Callback.SSActionEvent(<span class="keyword">this</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现动作管理"><a href="#实现动作管理" class="headerlink" title="实现动作管理"></a>实现动作管理</h3><p>在定义基本动作和动作序列之后，需要有一个基础动作管理器来管理要执行的动作，它继承自 MonoBehaviour，以便实现对游戏对象动作的控制。以下是 SSActionManager 类的定义：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SSActionManager</span>: <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Dictionary&lt;<span class="keyword">int</span>, SSAction&gt; actions = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">int</span>, SSAction&gt;();</span><br><span class="line">    <span class="keyword">private</span> List&lt;SSAction&gt; waitingAdd = <span class="keyword">new</span> List&lt;SSAction&gt;();</span><br><span class="line">    <span class="keyword">private</span> List&lt;<span class="keyword">int</span>&gt; waitingDelete = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (SSAction action <span class="keyword">in</span> waitingAdd) &#123;</span><br><span class="line">            actions[action.GetInstanceID()] = action;</span><br><span class="line">        &#125;</span><br><span class="line">        waitingAdd.Clear();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="keyword">int</span>, SSAction&gt; KeyValue <span class="keyword">in</span> actions) &#123;</span><br><span class="line">            SSAction action = KeyValue.Value;</span><br><span class="line">            <span class="keyword">if</span> (action.destroy) &#123;</span><br><span class="line">                <span class="comment">// release action</span></span><br><span class="line">                waitingDelete.Add(action.GetInstanceID());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (action.enable) &#123;</span><br><span class="line">                <span class="comment">// update action</span></span><br><span class="line">                action.Update();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">int</span> key <span class="keyword">in</span> waitingDelete) &#123;</span><br><span class="line">            SSAction action = actions[key];</span><br><span class="line">            actions.Remove(key);</span><br><span class="line">            DestroyObject(action);</span><br><span class="line">        &#125;</span><br><span class="line">        waitingDelete.Clear();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行动作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RunAction</span>(<span class="params">GameObject gameObject, SSAction action, ISSActionCallback callback</span>) </span>&#123;</span><br><span class="line">        action.GameObject = gameObject;</span><br><span class="line">        action.Transform = gameObject.transform;</span><br><span class="line">        action.Callback = callback;</span><br><span class="line">        waitingAdd.Add(action);</span><br><span class="line">        action.Start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="修改原有的游戏动作"><a href="#修改原有的游戏动作" class="headerlink" title="修改原有的游戏动作"></a>修改原有的游戏动作</h3><p>分离好动作后，要修改原来的动作执行方式。首先定义一个具体的动作管理者，继承自上述的基础动作管理者，来管理第一个游戏场景的动作（本游戏仅有一个场景）。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class FirstActionManager : SSActionManager, ISSActionCallback &#123;</span><br><span class="line">    <span class="comment">// 移动船</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoveBoat</span>(<span class="params">BoatController boatController</span>) </span>&#123;</span><br><span class="line">        SSMoveToAction action = SSMoveToAction.GetSSMoveToAction(boatController.getDestination(), <span class="number">20</span>);</span><br><span class="line">        RunAction(boatController.boat, action, <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移动角色</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoveCharacter</span>(<span class="params">MyCharacterController myCharacterController, Vector3 destination</span>) </span>&#123;</span><br><span class="line">        Vector3 current = myCharacterController.character.transform.position;</span><br><span class="line">        Vector3 middle = destination; <span class="comment">// 利用 middle 实现折线运动</span></span><br><span class="line">        <span class="keyword">if</span> (destination.y &lt; current.y) &#123;</span><br><span class="line">            middle.y = current.y;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            middle.x = current.x;</span><br><span class="line">        &#125;</span><br><span class="line">        SSAction firstMove = SSMoveToAction.GetSSMoveToAction(middle, <span class="number">20</span>);</span><br><span class="line">        SSAction secondMove = SSMoveToAction.GetSSMoveToAction(destination, <span class="number">20</span>);</span><br><span class="line">        SSAction sequenceAction = SSSequenceAction.GetSSSequenceAction(<span class="number">1</span>, <span class="number">0</span>, <span class="keyword">new</span> List&lt;SSAction&gt; &#123; firstMove, secondMove &#125;);</span><br><span class="line">        RunAction(myCharacterController.character, sequenceAction, <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SSActionEvent</span>(<span class="params">SSAction source, SSActionEventType events = SSActionEventType.Completed,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> intParam = <span class="number">0</span>, <span class="keyword">string</span> strParam = <span class="literal">null</span>, <span class="keyword">object</span> objectParam = <span class="literal">null</span></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接着修改 FirstController 中的动作内容，利用 FirstActionManager 来调用动作的执行。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">public class FirstController : MonoBehaviour, SceneController, IUserAction &#123;</span><br><span class="line">    <span class="keyword">private</span> FirstActionManager actionManager;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        actionManager = GetComponent&lt;FirstActionManager&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moveBoat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (boat.isEmpty ())</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">      actionManager.MoveBoat(boat); <span class="comment">// 移动船</span></span><br><span class="line">      boat.ChangePosition(); <span class="comment">// 修改船的位置属性</span></span><br><span class="line">      userGUI.status = check_game_over ();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">characterIsClicked</span>(<span class="params">MyCharacterController characterCtrl</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (characterCtrl.isOnBoat ()) &#123;</span><br><span class="line">            ShoreController whichShore;</span><br><span class="line">            <span class="keyword">if</span> (boat.get_to_or_from () == <span class="number">-1</span>) &#123; <span class="comment">// to-&gt;-1; from-&gt;1</span></span><br><span class="line">                whichShore = toShore;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                whichShore = fromShore;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            boat.GetOffBoat (characterCtrl.getName());</span><br><span class="line">            <span class="comment">// 移动角色</span></span><br><span class="line">            actionManager.MoveCharacter(characterCtrl, whichShore.getEmptyPosition());</span><br><span class="line">            characterCtrl.getOnShore (whichShore);</span><br><span class="line">            whichShore.getOnShore (characterCtrl);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// character on shore</span></span><br><span class="line">            ShoreController whichShore = characterCtrl.getShoreController ();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (boat.getEmptyIndex () == <span class="number">-1</span>) &#123; <span class="comment">// boat is full</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (whichShore.get_to_or_from () != boat.get_to_or_from ())<span class="comment">// boat is not on the side of character</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            whichShore.getOffShore(characterCtrl.getName());</span><br><span class="line">            <span class="comment">// 移动角色</span></span><br><span class="line">            actionManager.MoveCharacter(characterCtrl, boat.getEmptyPosition());</span><br><span class="line">            characterCtrl.getOnBoat (boat);</span><br><span class="line">            boat.GetOnBoat (characterCtrl);</span><br><span class="line">        &#125;</span><br><span class="line">        userGUI.status = check_game_over ();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>至此，动作分离全部完成。</p><h2 id="第二版游戏美化"><a href="#第二版游戏美化" class="headerlink" title="第二版游戏美化"></a>第二版游戏美化</h2><p>在游戏中，加入了天空盒和水环境，使得整体界面比上一版更加美观，立体感更强。</p><img src="/2018/04/10/Unity-3D-牧师与魔鬼-2-0/Priests%20and%20Devils%202.0.png" title="Priests and Devils 2.0"><p>游戏预览视频及完整项目见 <a href="">GitHub</a>.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;操作与总结&quot;&gt;&lt;a href=&quot;#操作与总结&quot; class=&quot;headerlink&quot; title=&quot;操作与总结&quot;&gt;&lt;/a&gt;操作与总结&lt;/h1&gt;&lt;h2 id=&quot;参考-Fantasy-Skybox-FREE-构建自己的游戏场景&quot;&gt;&lt;a href=&quot;#参考-Fantas
      
    
    </summary>
    
      <category term="Unity" scheme="http://xungerrrr.github.io/categories/Unity/"/>
    
    
      <category term="Unity" scheme="http://xungerrrr.github.io/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>基于稀疏表示的人脸识别</title>
    <link href="http://xungerrrr.github.io/2018/04/06/%E5%9F%BA%E4%BA%8E%E7%A8%80%E7%96%8F%E8%A1%A8%E7%A4%BA%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"/>
    <id>http://xungerrrr.github.io/2018/04/06/基于稀疏表示的人脸识别/</id>
    <published>2018-04-06T13:18:21.000Z</published>
    <updated>2018-04-10T11:38:25.879Z</updated>
    
    <content type="html"><![CDATA[<p>最近一周阅读了题为 Robust Face Recognition via Sparse Representation 的论文，了解到了一种基于稀疏表示的人脸识别技术。这里简要概括了论文的内容，给出了我个人对论文的基本理解。</p><p>这篇论文考虑的问题是，在不同的人物表情、照明条件或者是在失真、遮挡条件下，如何从正面自动识别出特定的人脸。基于通过计算向量1-范数最小值得到的稀疏表示，论文提出了一种用于物体（人脸）识别的通用分类算法。这种算法不仅很好地实现了理想条件下的人脸识别，还能够有效应对实际中的复杂情况，例如物体遮挡和照片失真，并且在与各种常见的特征提取方法结合时，都有着较高的识别率。</p><p>人脸识别的问题，可以概括为，利用多个来自不同类别的训练样本，来判断一个给定的测试样本属于哪一个类别。在人脸识别中，一个人脸就是一个类别，不同的人脸照片就是不同的样本。</p><p>考虑k个类别，设每一个分辨率为 w×h 的样本都可以用一个 m(m = wh) 维向量v来表示，类别 i 有 n_i 个训练样本，则类别 i 可以表示为一个 m×n_i 的矩阵 A_i=[v_(i,1),v_(i,2),…,v_(i,n_i)]。在训练样本充足的情况下，一个属于类别 i 的新测试样本 y∈R^m 可以表示为 A_i 的列向量的线性组合。但是，在识别的过程中，我们无法得知测试样本所属的类别，因此可以构建一个表示所有类别的矩阵 A=[A_1,A_2,…,A_k]∈R^(m×n)，将新测试样本表示成矩阵A的列向量的线性组合，即 y=Ax_0 。其中 x_0∈R^n ，是线性组合的系数向量，其非零元素是与类别 i 有关的系数项。通过求方程 y=Ax 的解，可以推断出样本 y 所属的类别。</p><p>然而，在现实条件下， m 往往小于 n ，因此方程有无穷多个解。为了找到最佳的识别类别，需要求出最稀疏的解（即x大部分元素为零）。论文提出了通过求向量 x 的1-范数的最小值，来得到y的最稀疏表示。其证明过程，我仍未完全理解。总的来说，只要 x_0 中非零元素的比例足够小，求出1-范数的最小值就等价于求出所需的稀疏表示向量。<br>接下来，论文考虑到在实际应用中，照片可能出现细微的噪声，测试样本可能无法准确表示为训练样本的线性组合，因此加入了一个噪声因子z，来表示可以接受的噪声范围，得到方程 y=Ax_0+z 。根据 z 的范围，可以求出对应的最小1-范数，求出所需的稀疏表示。</p><p>得到了测试样本的稀疏表示后，需要一种方法来确定它所属的类别。分别只考虑稀疏表示向量中每个类别对应的系数，而令其他无关系数都为0，近似地计算出不同的估计样本 y ̂_i ，再将真实的测试样本y与估计样本 y ̂_i 相减，可以得到估计样本和真实样本之间的差距。差值最小的类别，就是最接近真实测试样本的类别，因此可以将测试样本归入这个类别中。</p><p>除了分类问题，算法还应该具有排除外来样本的能力。论文定义了 SCI ，来表示稀疏表示中非零项的集中程度。只要 SCI 小于某一给定值，则说明测试样本不属于给定的任何类别，就应该被拒绝。</p><p>人脸识别有两个需要重点解决的问题：特征提取和对遮挡、失真问题的健壮性。特征提取的目的是减少样本特征的维度，以便减少运算量，提升识别速度。论文研究发现，只要样本数量足够多，特征提取的具体方法就不能对识别结果产生明显的影响。这样就可以利用基于正态分布的随机脸（Randomfaces）来快速提取特征，降低计算量，并且保证识别的准确性。对遮挡、失真问题的健壮性，与前面提到的噪声问题类似，可以通过引入误差向量，一起参与稀疏表示的求解，从而一并将稀疏表示和误差向量算出。得到误差向量后，用测试样本减去误差来重新构建样本，再通过上面提到的分类方法和排除方法，可以对样本进行分类和排除。这种处理误差的方法同样适用于上面提到的噪声问题。</p><p>最后，论文通过综合考虑不同的人脸数据库、不同的失真和遮挡情形，进行了不同的实验，用不同情况下的识别率来说明这种SRC算法的有效性和先进性。在多种复杂情况下，SRC算法要优于传统的人脸识别方法，但在大面积遮挡的情况下，SRC算法的识别率仍然较低，需要采取分区识别等方法来进行优化。</p><p>以上是我对论文的一些基本理解。论文中的一些内容，如2.2和3.2中的一些证明过程，我还不能完全理解，仍需要继续进行相关知识的学习。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近一周阅读了题为 Robust Face Recognition via Sparse Representation 的论文，了解到了一种基于稀疏表示的人脸识别技术。这里简要概括了论文的内容，给出了我个人对论文的基本理解。&lt;/p&gt;
&lt;p&gt;这篇论文考虑的问题是，在不同的人物
      
    
    </summary>
    
    
      <category term="Face Recognition" scheme="http://xungerrrr.github.io/tags/Face-Recognition/"/>
    
  </entry>
  
  <entry>
    <title>Unity 3D - 牧师与魔鬼</title>
    <link href="http://xungerrrr.github.io/2018/04/01/Unity-3D-%E7%89%A7%E5%B8%88%E4%B8%8E%E9%AD%94%E9%AC%BC/"/>
    <id>http://xungerrrr.github.io/2018/04/01/Unity-3D-牧师与魔鬼/</id>
    <published>2018-04-01T03:55:20.000Z</published>
    <updated>2018-04-10T11:38:44.595Z</updated>
    
    <content type="html"><![CDATA[<h2 id="游戏脚本"><a href="#游戏脚本" class="headerlink" title="游戏脚本"></a>游戏脚本</h2><blockquote><p>Priests and Devils is a puzzle game in which you will help the Priests and Devils to cross the river within the time limit. There are 3 priests and 3 devils at one side of the river. They all want to get to the other side of this river, but there is only one boat and this boat can only carry two persons each time. And there must be one person steering the boat from one side to the other side. In the flash game, you can click on them to move them and click the go button to move the boat to the other direction. If the priests are out numbered by the devils on either side of the river, they get killed and the game is over. You can try it in many ways. Keep all priests alive! Good luck!</p></blockquote><h2 id="程序需要满足的要求"><a href="#程序需要满足的要求" class="headerlink" title="程序需要满足的要求"></a>程序需要满足的要求</h2><ul><li><a href="http://www.flash-game.net/game/2535/priests-and-devils.html" target="_blank" rel="noopener">play the game</a></li><li>列出游戏中提及的事物（Objects）</li><li>用表格列出玩家动作表（规则表），注意，动作越少越好</li><li>请将游戏中对象做成预制</li><li>在 GenGameObjects 中创建 长方形、正方形、球 及其色彩代表游戏中的对象。</li><li>使用 C# 集合类型 有效组织对象</li><li>整个游戏仅 主摄像机 和 一个 Empty 对象， <strong>其他对象必须代码动态生成！！！</strong> 。 整个游戏不许出现 Find 游戏对象， SendMessage 这类突破程序结构的 通讯耦合 语句。 <strong>违背本条准则，不给分</strong></li><li>请使用课件架构图编程，<strong>不接受非 MVC 结构程序</strong></li><li>注意细节，例如：船未靠岸，牧师与魔鬼上下船运动中，均不能接受用户事件！</li></ul><h2 id="游戏中提及的事物（Object）"><a href="#游戏中提及的事物（Object）" class="headerlink" title="游戏中提及的事物（Object）"></a>游戏中提及的事物（Object）</h2><blockquote><p>牧师、魔鬼、船、go 按钮、开始岸、结束岸、水</p></blockquote><h2 id="玩家动作表"><a href="#玩家动作表" class="headerlink" title="玩家动作表"></a>玩家动作表</h2><table><thead><tr><th style="text-align:left">动作</th><th style="text-align:left">规则</th></tr></thead><tbody><tr><td style="text-align:left">开船</td><td style="text-align:left">船停靠在岸边且船上至少有一人</td></tr><tr><td style="text-align:left">上船</td><td style="text-align:left">船停靠在岸边，船上有空位并且岸上有人</td></tr><tr><td style="text-align:left">下船</td><td style="text-align:left">船停靠在岸边且船上有人</td></tr></tbody></table><h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><h3 id="MVC架构"><a href="#MVC架构" class="headerlink" title="MVC架构"></a>MVC架构</h3><ul><li>Model：游戏中的 GameObject。</li><li>View: UserGUI，ClickGUI。</li><li>Controller: SSDirector（最高级别的 Controller），FirstController，以及其他基础的 Controller (BoatController, MyCharacterController, ShoreController)。</li></ul><h3 id="游戏接口定义"><a href="#游戏接口定义" class="headerlink" title="游戏接口定义"></a>游戏接口定义</h3><p>游戏中定义了两个接口类型，分别负责游戏场景控制和用户交互。这两个接口不能直接实例化，而是要通过继承这两个接口来实现相应的功能。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">SceneController</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">loadResources</span> (<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pause</span> (<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">resume</span> (<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserAction</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">moveBoat</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">characterIsClicked</span>(<span class="params">MyCharacterController characterCtrl</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">restart</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="View-定义"><a href="#View-定义" class="headerlink" title="View 定义"></a>View 定义</h3><h4 id="ClickGUI"><a href="#ClickGUI" class="headerlink" title="ClickGUI"></a>ClickGUI</h4><p>ClickGUI 类用来监测用户的点击行为，并利用 SceneController 中的方法进行处理。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ClickGUI</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line">    IUserAction action;</span><br><span class="line">    MyCharacterController characterController;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setController</span>(<span class="params">MyCharacterController characterCtrl</span>) </span>&#123;</span><br><span class="line">        characterController = characterCtrl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        action = SSDirector.getInstance().currentSceneController <span class="keyword">as</span> IUserAction;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnMouseDown</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (SSDirector.getInstance().state == State.START) &#123;</span><br><span class="line">            <span class="keyword">if</span> (gameObject.name == <span class="string">"boat"</span>) &#123;</span><br><span class="line">            action.moveBoat ();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                action.characterIsClicked (characterController);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="UserGUI"><a href="#UserGUI" class="headerlink" title="UserGUI"></a>UserGUI</h4><p>UserGUI 类用来显示游戏中的开始/暂停按钮、游戏状态和倒计时等元素，也是用户控制游戏开始和暂停的入口。</p><p>UserGUI 类定义参见 <a href="https://github.com/Xungerrrr/3D-Game-Programming-and-Design/tree/master/Homework%202/Priests%20and%20Devils" target="_blank" rel="noopener">GitHub</a>。</p><h3 id="Controller-定义"><a href="#Controller-定义" class="headerlink" title="Controller 定义"></a>Controller 定义</h3><h4 id="SSDirector-类定义"><a href="#SSDirector-类定义" class="headerlink" title="SSDirector 类定义"></a>SSDirector 类定义</h4><p>SSDirector 类是最高层的控制器，在游戏过程中只有一个实例，控制游戏的开始、暂停以及资源的加载。其中 state 是一个自定义的枚举型变量，记录游戏的四种状态，以实现游戏的暂停功能。CountDown 方法实现了游戏的倒计时功能。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> State &#123; WIN, LOSE, PAUSE, START &#125;;</span><br><span class="line"></span><br><span class="line">public class SSDirector : System.Object &#123;</span><br><span class="line">    <span class="keyword">public</span> State state = State.PAUSE;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> totalSeconds = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> leaveSeconds;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> countDownTitle = <span class="string">"Start"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SSDirector _instance;</span><br><span class="line">    <span class="keyword">public</span> SceneController currentSceneController &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SSDirector <span class="title">getInstance</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>) &#123;</span><br><span class="line">        _instance = <span class="keyword">new</span> SSDirector ();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> _instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFPS</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Application.targetFrameRate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFPS</span>(<span class="params"><span class="keyword">int</span> fps</span>) </span>&#123;</span><br><span class="line">        Application.targetFrameRate = fps;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerator <span class="title">CountDown</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (leaveSeconds &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="function"><span class="keyword">yield</span> return new <span class="title">WaitForSeconds</span>(<span class="params"><span class="number">1</span>f</span>)</span>;</span><br><span class="line">            leaveSeconds--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="其他-Controller-类定义"><a href="#其他-Controller-类定义" class="headerlink" title="其他 Controller 类定义"></a>其他 Controller 类定义</h4><p>其他 Controller 类定义参见 <a href="https://github.com/Xungerrrr/3D-Game-Programming-and-Design/tree/master/Homework%202/Priests%20and%20Devils" target="_blank" rel="noopener">GitHub</a>。</p><h2 id="游戏效果预览"><a href="#游戏效果预览" class="headerlink" title="游戏效果预览"></a>游戏效果预览</h2><img src="/2018/04/01/Unity-3D-牧师与魔鬼/Priests%20and%20Devils.gif" title="Priests and Devils"><h2 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h2><p>[1] <a href="https://www.jianshu.com/p/07028b3da573" target="_blank" rel="noopener">学习 Unity(5) 小游戏实例——牧师与魔鬼</a></p><p>[2] <a href="https://blog.csdn.net/H12590400327/article/details/70037805" target="_blank" rel="noopener">Unity3D 学习——牧师与恶魔过河游戏 (组合模式、单实例模式)</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;游戏脚本&quot;&gt;&lt;a href=&quot;#游戏脚本&quot; class=&quot;headerlink&quot; title=&quot;游戏脚本&quot;&gt;&lt;/a&gt;游戏脚本&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Priests and Devils is a puzzle game in which you 
      
    
    </summary>
    
      <category term="Unity" scheme="http://xungerrrr.github.io/categories/Unity/"/>
    
    
      <category term="Unity" scheme="http://xungerrrr.github.io/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity 3D - 太阳系</title>
    <link href="http://xungerrrr.github.io/2018/03/31/Unity-3D-%E5%A4%AA%E9%98%B3%E7%B3%BB/"/>
    <id>http://xungerrrr.github.io/2018/03/31/Unity-3D-太阳系/</id>
    <published>2018-03-31T09:41:38.000Z</published>
    <updated>2018-04-10T11:38:59.367Z</updated>
    
    <content type="html"><![CDATA[<h2 id="游戏对象运动的本质是什么"><a href="#游戏对象运动的本质是什么" class="headerlink" title="游戏对象运动的本质是什么?"></a>游戏对象运动的本质是什么?</h2><blockquote><p>游戏对象的运动，是由游戏对象空间位置的连续变化所形成的。其中，游戏对象的空间位置由游戏中的坐标系统所决定，包含位置、旋转角度和缩放比例等属性。</p></blockquote><h2 id="请用三种方法以上方法，实现物体的抛物线运动。"><a href="#请用三种方法以上方法，实现物体的抛物线运动。" class="headerlink" title="请用三种方法以上方法，实现物体的抛物线运动。"></a>请用三种方法以上方法，实现物体的抛物线运动。</h2><blockquote><p>抛体运动的特点</p><ul><li>水平方向：匀速直线运动</li><li>竖直方向：自由落体运动（匀变速直线运动）</li></ul></blockquote><h3 id="方法1：修改-transform-属性"><a href="#方法1：修改-transform-属性" class="headerlink" title="方法1：修改 transform 属性"></a>方法1：修改 transform 属性</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> HorizontalSpeed = <span class="number">1.0</span>f; <span class="comment">// 水平初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> VerticalSpeed = <span class="number">1.0</span>f; <span class="comment">// 垂直初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> Acceleration = <span class="number">1.0</span>f; <span class="comment">// 抛体运动加速度</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 更新垂直速度</span></span><br><span class="line">    VerticalSpeed -= Acceleration * Time.deltaTime;</span><br><span class="line">    <span class="comment">// 更新水平位置</span></span><br><span class="line">    <span class="keyword">this</span>.transform.position += Vector3.left * HorizontalSpeed * Time.deltaTime;</span><br><span class="line">    <span class="comment">// 更新垂直位置</span></span><br><span class="line">    <span class="keyword">this</span>.transform.position += Vector3.up * VerticalSpeed * Time.deltaTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="方法2：使用-transform-Translate-方法"><a href="#方法2：使用-transform-Translate-方法" class="headerlink" title="方法2：使用 transform.Translate 方法"></a>方法2：使用 transform.Translate 方法</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> HorizontalSpeed = <span class="number">1.0</span>f; <span class="comment">// 水平初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> VerticalSpeed = <span class="number">1.0</span>f; <span class="comment">// 垂直初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> Acceleration = <span class="number">1.0</span>f; <span class="comment">// 抛体运动加速度</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 更新垂直速度</span></span><br><span class="line">    VerticalSpeed -= Acceleration * Time.deltaTime;</span><br><span class="line">    <span class="comment">// 更新水平位置</span></span><br><span class="line">    <span class="keyword">this</span>.transform.Translate (Vector3.left * HorizontalSpeed * Time.deltaTime);</span><br><span class="line">    <span class="comment">// 更新垂直位置</span></span><br><span class="line">    <span class="keyword">this</span>.transform.Translate (Vector3.up * VerticalSpeed * Time.deltaTime);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="方法3：使用-Vector3-MoveTowards-方法"><a href="#方法3：使用-Vector3-MoveTowards-方法" class="headerlink" title="方法3：使用 Vector3.MoveTowards 方法"></a>方法3：使用 Vector3.MoveTowards 方法</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> HorizontalSpeed = <span class="number">1.0</span>f; <span class="comment">// 水平初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> VerticalSpeed = <span class="number">1.0</span>f; <span class="comment">// 垂直初速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> Acceleration = <span class="number">1.0</span>f; <span class="comment">// 抛体运动加速度</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 更新垂直速度</span></span><br><span class="line">    VerticalSpeed -= Acceleration * Time.deltaTime;</span><br><span class="line">    <span class="comment">// 计算下一位置</span></span><br><span class="line">    Vector3 NextPosition = <span class="keyword">this</span>.transform.position + Vector3.left * HorizontalSpeed * Time.deltaTime;</span><br><span class="line">    NextPosition += Vector3.up * VerticalSpeed * Time.deltaTime;</span><br><span class="line">    <span class="comment">// 移动到下一位置</span></span><br><span class="line">    <span class="keyword">this</span>.transform.position = Vector3.MoveTowards (<span class="keyword">this</span>.transform.position, NextPosition, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="方法4：添加-Rigidbody-组件"><a href="#方法4：添加-Rigidbody-组件" class="headerlink" title="方法4：添加 Rigidbody 组件"></a>方法4：添加 Rigidbody 组件</h3><p>添加 Rigidbody 组件后，勾选 Use Gravity 属性，游戏对象便能受到重力作用。此时额外增加一个水平速度，即可实现游戏对象的平抛运动。<br><img src="/2018/03/31/Unity-3D-太阳系/Rigidbody.png" title="Rigidbody"><br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">float</span> speed = <span class="number">1.0</span>f;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 水平方向匀速运动</span></span><br><span class="line">    <span class="keyword">this</span>.transform.position += Vector3.left * speed * Time.deltaTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="写一个程序，实现一个完整的太阳系，-其他星球围绕太阳的转速必须不一样，且不在一个法平面上。"><a href="#写一个程序，实现一个完整的太阳系，-其他星球围绕太阳的转速必须不一样，且不在一个法平面上。" class="headerlink" title="写一个程序，实现一个完整的太阳系， 其他星球围绕太阳的转速必须不一样，且不在一个法平面上。"></a>写一个程序，实现一个完整的太阳系， 其他星球围绕太阳的转速必须不一样，且不在一个法平面上。</h2><h3 id="游戏对象的层次结构"><a href="#游戏对象的层次结构" class="headerlink" title="游戏对象的层次结构"></a>游戏对象的层次结构</h3><img src="/2018/03/31/Unity-3D-太阳系/Hierarchy.png" title="Hierarchy"><p>八大行星围绕太阳公转，因此应该设计为太阳的子对象。而月球的轨迹只与地球公转相关，与地球自转无关，因此不能将月球直接设为地球的子对象。解决办法是，新建一个空对象 EarthShadow，使它的位置与地球保持一致，再将月球设为 EarthShadow 的子对象，通过控制 EarthShadow 的自转速度来控制月球绕地球的公转速度。</p><h3 id="游戏对象初始位置的确定"><a href="#游戏对象初始位置的确定" class="headerlink" title="游戏对象初始位置的确定"></a>游戏对象初始位置的确定</h3><p>创建 RoundSun 脚本，新建不同游戏对象的 Transform 属性，并根据八大行星位置的相对关系，在 Start 函数中给 Transform 属性赋值。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RoundSun</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建太阳和各行星的位置属性</span></span><br><span class="line">    <span class="keyword">public</span> Transform Mercury;</span><br><span class="line">    <span class="keyword">public</span> Transform Venus;</span><br><span class="line">    <span class="keyword">public</span> Transform Earth;</span><br><span class="line">    <span class="keyword">public</span> Transform Mars;</span><br><span class="line">    <span class="keyword">public</span> Transform Jupiter;</span><br><span class="line">    <span class="keyword">public</span> Transform Saturn;</span><br><span class="line">    <span class="keyword">public</span> Transform Uranus;</span><br><span class="line">    <span class="keyword">public</span> Transform Neptune;</span><br><span class="line">    <span class="keyword">public</span> Transform EarthShadow;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 初始化太阳和各行星的位置</span></span><br><span class="line">        Sun.position = Vector3.zero;</span><br><span class="line">        Mercury.position = <span class="keyword">new</span> Vector3 (<span class="number">7</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Earth.position = <span class="keyword">new</span> Vector3 (<span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Mars.position = <span class="keyword">new</span> Vector3 (<span class="number">15</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Jupiter.position = <span class="keyword">new</span> Vector3 (<span class="number">20</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Saturn.position = <span class="keyword">new</span> Vector3 (<span class="number">28</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Uranus.position = <span class="keyword">new</span> Vector3 (<span class="number">35</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Neptune.position = <span class="keyword">new</span> Vector3 (<span class="number">40</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        EarthShadow.position = <span class="keyword">new</span> Vector3 (<span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="公转和自转"><a href="#公转和自转" class="headerlink" title="公转和自转"></a>公转和自转</h3><p>接下来，在 Update 函数中用 RotateAround 方法实现行星的公转，用 Rotate 实现行星的自转。根据太阳系相关数据设定参数。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RoundSun</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 公转</span></span><br><span class="line">        Mercury.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1</span>), <span class="number">47</span> * Time.deltaTime)；</span><br><span class="line">        Venus.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">15</span>, <span class="number">-1</span>), <span class="number">35</span> * Time.deltaTime);</span><br><span class="line">        Earth.RotateAround (Sun.position, Vector3.up, <span class="number">30</span> * Time.deltaTime);</span><br><span class="line">        Mars.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">18</span>, <span class="number">2</span>), <span class="number">24</span> * Time.deltaTime);</span><br><span class="line">        Jupiter.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">16</span>, <span class="number">1</span>), <span class="number">13</span> * Time.deltaTime);</span><br><span class="line">        Saturn.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">20</span>, <span class="number">-1</span>), <span class="number">9</span> * Time.deltaTime);</span><br><span class="line">        Uranus.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">25</span>, <span class="number">-1</span>), <span class="number">6</span> * Time.deltaTime);</span><br><span class="line">        Neptune.RotateAround (Sun.position, <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">30</span>, <span class="number">1</span>), <span class="number">5</span> * Time.deltaTime);</span><br><span class="line">        EarthShadow.RotateAround (Sun.position, Vector3.up, <span class="number">30</span> * Time.deltaTime);</span><br><span class="line">        <span class="comment">// 自转</span></span><br><span class="line">        Mercury.Rotate (Vector3.down * <span class="number">6</span> * Time.deltaTime);</span><br><span class="line">        Venus.Rotate (Vector3.down * <span class="number">1</span> * Time.deltaTime);</span><br><span class="line">        Earth.Rotate (Vector3.down * <span class="number">300</span> * Time.deltaTime);</span><br><span class="line">        Mars.Rotate (Vector3.up * <span class="number">300</span> * Time.deltaTime);</span><br><span class="line">        Jupiter.Rotate (Vector3.up * <span class="number">600</span> * Time.deltaTime);</span><br><span class="line">        Saturn.Rotate (Vector3.up * <span class="number">400</span> * Time.deltaTime);</span><br><span class="line">        Uranus.Rotate (Vector3.up * <span class="number">500</span> * Time.deltaTime);</span><br><span class="line">        Neptune.Rotate (Vector3.up * <span class="number">500</span> * Time.deltaTime);</span><br><span class="line">        EarthShadow.Rotate (Vector3.down * <span class="number">100</span> * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p>最后，将脚本挂在 MainCamera 上，将游戏对象拖入到相应的 Transform 属性中，并将图片素材拖放到行星上。运行效果如下：<br><img src="/2018/03/31/Unity-3D-太阳系/Solar-System1.png" title="Solar System1"><br><img src="/2018/03/31/Unity-3D-太阳系/Solar-System2.png" title="Solar System2"><br><img src="/2018/03/31/Unity-3D-太阳系/Solar%20System.gif" title="Solar System"></p><p><a href="https://github.com/Xungerrrr/3D-Game-Programming-and-Design/tree/master/Homework%202/1.%20Solar%20System" target="_blank" rel="noopener">GitHub 源码</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;游戏对象运动的本质是什么&quot;&gt;&lt;a href=&quot;#游戏对象运动的本质是什么&quot; class=&quot;headerlink&quot; title=&quot;游戏对象运动的本质是什么?&quot;&gt;&lt;/a&gt;游戏对象运动的本质是什么?&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;游戏对象的运动，是由游戏对象空
      
    
    </summary>
    
      <category term="Unity" scheme="http://xungerrrr.github.io/categories/Unity/"/>
    
    
      <category term="Unity" scheme="http://xungerrrr.github.io/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity 3D - 基础概念</title>
    <link href="http://xungerrrr.github.io/2018/03/31/Unity-3D-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/"/>
    <id>http://xungerrrr.github.io/2018/03/31/Unity-3D-基础概念/</id>
    <published>2018-03-31T04:24:38.000Z</published>
    <updated>2018-04-10T11:38:53.401Z</updated>
    
    <content type="html"><![CDATA[<h2 id="解释-游戏对象（GameObjects）-和-资源（Assets）的区别与联系。"><a href="#解释-游戏对象（GameObjects）-和-资源（Assets）的区别与联系。" class="headerlink" title="解释 游戏对象（GameObjects） 和 资源（Assets）的区别与联系。"></a>解释 游戏对象（GameObjects） 和 资源（Assets）的区别与联系。</h2><ul><li><p>区别</p><ul><li><p>游戏对象（GameObjects）</p><blockquote><p>游戏中的物体就是游戏对象，例如游戏中的角色、道具和环境物体。游戏对象都是由空对象构建而成的。通过向空对象中加入不同的属性（组件），我们可以获得具有不同外观和行为的游戏对象。</p></blockquote></li><li><p>资源（Assets）</p><blockquote><p>游戏开发过程中需要的资源包括材质、纹理、模型、动画、预设、音频、场景等，是能应用在游戏中的素材。</p></blockquote></li></ul></li><li><p>联系</p><blockquote><p>资源能够被导入到游戏中，被游戏对象使用，影响游戏对象的属性。资源还可以被用来创建新的游戏对象。</p></blockquote></li></ul><h2 id="下载几个游戏案例，分别总结资源、对象组织的结构（指资源的目录组织结构与游戏对象树的层次结构）"><a href="#下载几个游戏案例，分别总结资源、对象组织的结构（指资源的目录组织结构与游戏对象树的层次结构）" class="headerlink" title="下载几个游戏案例，分别总结资源、对象组织的结构（指资源的目录组织结构与游戏对象树的层次结构）"></a>下载几个游戏案例，分别总结资源、对象组织的结构（指资源的目录组织结构与游戏对象树的层次结构）</h2><p>Unity 官方教程的资源目录组织和游戏对象树如下：</p><img src="/2018/03/31/Unity-3D-基础概念/file-tree.png" title="file-tree"><p>游戏资源被放到不同的层级中，层次和内容十分清晰。游戏对象间也有明确的层级关系，以便实现游戏中的组合模式。</p><h2 id="编写一个代码，使用-debug-语句来验证-MonoBehaviour-基本行为或事件触发的条件"><a href="#编写一个代码，使用-debug-语句来验证-MonoBehaviour-基本行为或事件触发的条件" class="headerlink" title="编写一个代码，使用 debug 语句来验证 MonoBehaviour 基本行为或事件触发的条件"></a>编写一个代码，使用 debug 语句来验证 <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.html" target="_blank" rel="noopener">MonoBehaviour</a> 基本行为或事件触发的条件</h2><ul><li>基本行为包括 Awake() Start() Update() FixedUpdate() LateUpdate()</li><li>常用事件包括 OnGUI() OnDisable() OnEnable()</li></ul><p>代码如下：<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C# Script</span></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewBehaviourScript</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 判断是否执行过相应函数</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">bool</span> isUpdate = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">bool</span> isFixedUpdate = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">bool</span> isLateUpdate = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">bool</span> isOnGUI = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当一个脚本实例被载入时 Awake 被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    Debug.Log (<span class="string">"Awake"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Start 仅在 Update 函数第一次被调用前调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    Debug.Log (<span class="string">"Start"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当 MonoBehaviour 启用时，其 Update 在每一帧被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 确保函数只被执行一次</span></span><br><span class="line">    <span class="keyword">if</span> (!isUpdate) &#123;</span><br><span class="line">      Debug.Log (<span class="string">"Update"</span>);</span><br><span class="line">      isUpdate = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当 MonoBehaviour 启用时，其 FixedUpdate 在每一帧被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">FixedUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 确保函数只被执行一次</span></span><br><span class="line">    <span class="keyword">if</span> (!isFixedUpdate) &#123;</span><br><span class="line">      Debug.Log (<span class="string">"Fixed Update"</span>);</span><br><span class="line">      isFixedUpdate = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当 Behaviour 启用时，其 LateUpdate 在每一帧被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">LateUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 确保函数只被执行一次</span></span><br><span class="line">    <span class="keyword">if</span> (!isLateUpdate) &#123;</span><br><span class="line">      Debug.Log (<span class="string">"Late Update"</span>);</span><br><span class="line">      isLateUpdate = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当对象变为不可用或非激活状态时此函数被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">OnDisable</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    Debug.Log (<span class="string">"On Disable"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当对象变为可用或激活状态时此函数被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">OnEnable</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    Debug.Log (<span class="string">"On Enable"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 渲染和处理 GUI 事件时调用</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">OnGUI</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 确保函数只被执行一次</span></span><br><span class="line">    <span class="keyword">if</span> (!isOnGUI) &#123;</span><br><span class="line">      Debug.Log (<span class="string">"On GUI"</span>);</span><br><span class="line">      isOnGUI = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>运行结果如下图：</p><img src="/2018/03/31/Unity-3D-基础概念/console.png" title="console"><p>可以看出，基本行为和事件的发生顺序为：</p><ol><li>Awake()</li><li>OnEnable()</li><li>Start()</li><li>FixedUpdate()</li><li>Update()</li><li>LateUpdate()</li><li>OnGUI()</li><li>OnDisable()</li></ol><p>顺序满足各事件触发的条件。</p><p>FixedUpdate()、LateUpdate()和Update()的区别：</p><ul><li><p>FixedUpdate()</p><blockquote><p>处理 Rigidbody 时，需要用 FixedUpdate 代替 Update。例如: 给刚体加一个作用力时，你必须应用作用力在 FixedUpdate 里的固定帧，而不是 Update 中的帧(两者帧长不同)。</p></blockquote></li><li><p>LateUpdate()</p><blockquote><p>LateUpdate 是在所有 Update 函数调用后被调用。这可用于调整脚本执行顺序。例如: 当物体在 Update 里移动时，跟随物体的相机可以在 LateUpdate 里实现。</p></blockquote></li></ul><h2 id="查找脚本手册，了解-GameObject，Transform，Component-对象"><a href="#查找脚本手册，了解-GameObject，Transform，Component-对象" class="headerlink" title="查找脚本手册，了解 GameObject，Transform，Component 对象"></a>查找脚本手册，了解 <a href="https://docs.unity3d.com/ScriptReference/GameObject.html" target="_blank" rel="noopener">GameObject</a>，Transform，Component 对象</h2><ul><li><p>分别翻译官方对三个对象的描述（Description）</p><ul><li><p>GameObject</p><blockquote><p>GameObjects are the fundamental objects in Unity that represent characters, props and scenery.</p></blockquote><blockquote><p>游戏对象是Unity中基础的对象，它代表了角色、道具和场景。</p></blockquote></li><li><p>Transform</p><blockquote><p>The Transform component determines the Position, Rotation, and Scale of each object in the scene.</p></blockquote><blockquote><p>变换组件决定了场景中每个对象的位置、旋转角度和缩放比例。</p></blockquote></li><li><p>Component</p><blockquote><p>Components are the nuts &amp; bolts of objects and behaviors in a game.</p></blockquote><blockquote><p>组件是游戏中对象和行为的枢纽。</p></blockquote></li></ul></li><li><p>描述下图中 table 对象（实体）的属性、table 的 Transform 的属性、 table 的部件</p><img src="/2018/03/31/Unity-3D-基础概念/ch02-homework.png" title="pic"><ul><li>table 对象（实体）的属性<ul><li>Name: 对象的名字</li><li>Tag: 用于通过 Tag 名称来快速查找对象</li><li>Layer: 可用于仅对某些特定的对象组投射光线、渲染或应用光照</li><li>Static: 准备静态几何结构以用于自动批处理；计算遮挡剔除 (Occlusion Culling)</li></ul></li><li>table 的 Transform 的属性<ul><li>Position: X、Y 和 Z 坐标中变换的位置。(0, 0, 0)</li><li>Rotation: 围绕 X、Y 和 Z 轴的旋转，以度计。(0, 0, 0)</li><li>Scale: 沿 X、Y 和 Z 轴的缩放，“1” 是原始大小。(1, 1, 1)</li></ul></li><li>table 的部件<ul><li>Cube (Mesh Filter): 网格过滤器从资源中拿出网格并将其传递给网格渲染器 (Mesh Renderer) 用于屏幕渲染</li><li>Box Collider: 箱体碰撞体 (Box Collider) 是基本立方体形碰撞基元</li><li>Mesh Renderer: 网格渲染器 (Mesh Renderer) 从网格过滤器 （Mesh Filter) 获得几何结构，并根据物体的变换组件 (Transform) 定义的位置进行渲染</li><li>Material: 材质用于将纹理置于游戏对象 (GameObject) 上</li></ul></li></ul></li><li><p>用 UML 图描述 三者的关系（请使用 UMLet 14.1.1 stand-alone版本出图）</p><img src="/2018/03/31/Unity-3D-基础概念/relation.png" title="relation"></li></ul><h2 id="整理相关学习资料，编写简单代码验证以下技术的实现："><a href="#整理相关学习资料，编写简单代码验证以下技术的实现：" class="headerlink" title="整理相关学习资料，编写简单代码验证以下技术的实现："></a>整理相关学习资料，编写简单代码验证以下技术的实现：</h2><ul><li><p>查找对象</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过名字查找：</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameObject <span class="title">Find</span>(<span class="params"><span class="keyword">string</span> name</span>)</span>;</span><br><span class="line"><span class="comment">//通过标签查找单个对象：</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameObject <span class="title">FindWithTag</span>(<span class="params"><span class="keyword">string</span> tag</span>)</span>;</span><br><span class="line"><span class="comment">//通过标签查找多个对象：</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameObject[] <span class="title">FindGameObjectsWithTag</span>(<span class="params"><span class="keyword">string</span> tag</span>)</span>;</span><br></pre></td></tr></table></figure></li><li><p>添加子对象</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameObject <span class="title">CreatePrimitive</span>(<span class="params">PrimitiveTypetype</span>)</span>;</span><br></pre></td></tr></table></figure></li><li><p>遍历对象树</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (Transform child <span class="keyword">in</span> transform) &#123;</span><br><span class="line">  Debug.Log(child.gameObject.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>清除所有子对象</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (Transform child <span class="keyword">in</span> transform) &#123;  </span><br><span class="line">  Destroy(child.gameObject);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="资源预设（Prefabs）与-对象克隆-clone"><a href="#资源预设（Prefabs）与-对象克隆-clone" class="headerlink" title="资源预设（Prefabs）与 对象克隆 (clone)"></a>资源预设（Prefabs）与 对象克隆 (clone)</h2><ul><li><p>预设（Prefabs）有什么好处？</p><blockquote><p>预设就是预制好的游戏对象，包含了完整的组件和属性，可看作是游戏对象的模板。利用预制能够批量实例化出具有相同属性的游戏对象。预设与实例之间是联系的，改变预设的属性能够更改所有与之关联的对象的属性。</p></blockquote></li><li><p>预设与对象克隆 (clone or copy or Instantiate of Unity Object) 关系？</p><blockquote><p>不同于预设，对象克隆只是对对象的复制，新对象与克隆本体之间没有关联，不会相互影响。</p></blockquote></li><li><p>制作 table 预制，写一段代码将 table 预制资源实例化成游戏对象</p></li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C# Script</span></span><br><span class="line"><span class="keyword">using</span> System.Collections;  </span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;  </span><br><span class="line"><span class="keyword">using</span> UnityEngine;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Instantiate</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> GameObject table;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> columnNum = <span class="number">10</span>; <span class="comment">// 列数</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> rowNum = <span class="number">5</span>; <span class="comment">// 行数</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rowNum; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columnNum; j++) &#123;</span><br><span class="line">        <span class="comment">// 创建 table 的实例  </span></span><br><span class="line">        Instantiate(table, <span class="keyword">new</span> Vector3(j, i, <span class="number">0</span>), Quaternion.identity);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图如下：</p>  <img src="/2018/03/31/Unity-3D-基础概念/prefabs.png" title="prefabs"><h2 id="尝试解释组合模式（Composite-Pattern-一种设计模式）。使用-BroadcastMessage-方法向子对象发送消息"><a href="#尝试解释组合模式（Composite-Pattern-一种设计模式）。使用-BroadcastMessage-方法向子对象发送消息" class="headerlink" title="尝试解释组合模式（Composite Pattern / 一种设计模式）。使用 BroadcastMessage() 方法向子对象发送消息"></a>尝试解释组合模式（Composite Pattern / 一种设计模式）。使用 BroadcastMessage() 方法向子对象发送消息</h2><blockquote><p>组合模式将对象组合成树形结构，以表示 “部分整体” 的层次结构。这种模式使得用户能够以一致的方式处理单个对象及对象的组合。</p></blockquote><p>父类对象方法：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.BroadcastMessage (<span class="string">"CallChildren"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>子类对象方法：<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CallChildren</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  Debug.Log (<span class="string">"I'm here!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;解释-游戏对象（GameObjects）-和-资源（Assets）的区别与联系。&quot;&gt;&lt;a href=&quot;#解释-游戏对象（GameObjects）-和-资源（Assets）的区别与联系。&quot; class=&quot;headerlink&quot; title=&quot;解释 游戏对象（Game
      
    
    </summary>
    
      <category term="Unity" scheme="http://xungerrrr.github.io/categories/Unity/"/>
    
    
      <category term="Unity" scheme="http://xungerrrr.github.io/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity 3D Learning</title>
    <link href="http://xungerrrr.github.io/2018/03/30/Unity-3D-Learning/"/>
    <id>http://xungerrrr.github.io/2018/03/30/Unity-3D-Learning/</id>
    <published>2018-03-30T13:42:17.000Z</published>
    <updated>2018-04-10T11:38:49.304Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Unity-3D编程-学习博客"><a href="#Unity-3D编程-学习博客" class="headerlink" title="Unity 3D编程 学习博客"></a>Unity 3D编程 学习博客</h1><blockquote><p>这是中山大学2018春季学期「3D 游戏编程与设计」的课程博客。以此系列博客记录本人3D编程学习的过程和结果。</p></blockquote><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><h3 id="Homework-1"><a href="#Homework-1" class="headerlink" title="Homework 1"></a>Homework 1</h3><ul><li><a href="/2018/03/31/Unity-3D-基础概念/" title="Unity 3D - 基础概念">Unity 3D - 基础概念</a></li><li><a href="https://github.com/Xungerrrr/3D-Game-Programming-and-Design/tree/master/Homework%201/2.%20Tic-Tac-Toe" target="_blank" rel="noopener">Unity 3D - 井字棋</a></li></ul><h3 id="Homework-2"><a href="#Homework-2" class="headerlink" title="Homework 2"></a>Homework 2</h3><ul><li><a href="/2018/03/31/Unity-3D-太阳系/" title="Unity 3D - 太阳系">Unity 3D - 太阳系</a></li><li><a href="/2018/04/01/Unity-3D-牧师与魔鬼/" title="Unity 3D - 牧师与魔鬼">Unity 3D - 牧师与魔鬼</a></li></ul><h3 id="Homework-3"><a href="#Homework-3" class="headerlink" title="Homework 3"></a>Homework 3</h3><ul><li><a href="/2018/04/10/Unity-3D-牧师与魔鬼-2-0/" title="Unity 3D - 牧师与魔鬼 2.0">Unity 3D - 牧师与魔鬼 2.0</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Unity-3D编程-学习博客&quot;&gt;&lt;a href=&quot;#Unity-3D编程-学习博客&quot; class=&quot;headerlink&quot; title=&quot;Unity 3D编程 学习博客&quot;&gt;&lt;/a&gt;Unity 3D编程 学习博客&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;这是中山大
      
    
    </summary>
    
      <category term="Unity" scheme="http://xungerrrr.github.io/categories/Unity/"/>
    
    
      <category term="Unity" scheme="http://xungerrrr.github.io/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://xungerrrr.github.io/2018/03/30/hello-world/"/>
    <id>http://xungerrrr.github.io/2018/03/30/hello-world/</id>
    <published>2018-03-30T12:00:00.000Z</published>
    <updated>2018-03-31T07:58:28.067Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
      <category term="blog" scheme="http://xungerrrr.github.io/tags/blog/"/>
    
  </entry>
  
</feed>
